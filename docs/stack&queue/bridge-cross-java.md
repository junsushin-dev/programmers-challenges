# 다리를 지나는 트럭

출처: https://programmers.co.kr/learn/courses/30/lessons/42583

## 지문
트럭 여러 대가 강을 가로지르는 일 차선 다리를 정해진 순으로 건너려 합니다. 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 알아내야 합니다. 트럭은 1초에 1만큼 움직이며, 다리 길이는 bridge_length이고 다리는 무게 weight까지 견딥니다.
- 트럭이 다리에 완전히 오르지 않은 경우, 이 트럭의 무게는 고려하지 않습니다.

예를 들어, 길이가 2이고 10kg 무게를 견디는 다리가 있습니다. 무게가 [7, 4, 5, 6]kg인 트럭이 순서대로 최단 시간 안에 다리를 건너려면 다음과 같이 건너야 합니다.

경과 시간	| 다리를 지난 트럭	| 다리를 건너는 트럭	| 대기 트럭
--|--|--|--
0	| []	| []	| [7,4,5,6]
1~2	| []	| [7]	| [4,5,6]
3	| [7]	| [4]	| [5,6]
4	| [7]	| [4,5]	| [6]
5	| [7,4]	| [5]	| [6]
6~7	| [7,4,5]	| [6]	| []
8	| [7,4,5,6]	| []	| []

따라서, 모든 트럭이 다리를 지나려면 최소 8초가 걸립니다.

solution 함수의 매개변수로 다리 길이 bridge_length, 다리가 견딜 수 있는 무게 weight, 트럭별 무게 truck_weights가 주어집니다. 이때 모든 트럭이 다리를 건너려면 최소 몇 초가 걸리는지 return 하도록 solution 함수를 완성하세요.

제한 조건
- bridge_length는 1 이상 10,000 이하입니다.
- weight는 1 이상 10,000 이하입니다.
- truck_weights의 길이는 1 이상 10,000 이하입니다.
- 모든 트럭의 무게는 1 이상 weight 이하입니다.

입출력 예
bridge_length	weight	| truck_weights	| return
--|--|--
2	| 10	| [7,4,5,6]	| 8
100	| 100	| [10]	| 101
100	| 100	| [10,10,10,10,10,10,10,10,10,10]	| 110

## 해설
큐를 이용해서 트럭들로 다리를 건너는 시뮬레이션을 하는 문제입니다. 트럭은 순서대로 줄을 서 있고, 다리에 진입한 순서대로 다리를 나오게 되므로

1. 기다리는 트럭의 줄
2. 트럭들이 올라가 있는 다리

위 두가지를 모두 Queue로 생각해볼 수 있습니다.

다리에 올라가 있는 트럭들의 총 무게를 재는 것이 필수적이므로, 위 중에서 2번의 Queue 구현은 필수적으로 해야 합니다. 1번은 주어진 배열을 Queue 넣고 시작하셔도 되고, while문을 통해 트럭의 순번을 체크하면서 배열에서 바로 트럭을 가져와도 됩니다.

다리의 무게 한도가 충분하여 순서대로 트럭들이 다리에 들어가는 경우는 구현이 쉽지만, 한도를 초과하게 되어 다리에 트럭이 들어가지 않고 한번 쉬는 경우가 구현하기가 상대적으로 까다롭게 느껴질 수 있습니다.

아래 문제풀이의 경우에는 트럭이 올라가지 못하는 경우 무게 0의 트럭(=빈 자리)가 bridge를 표현하는 queue에 들어가게 만들었습니다. 이렇게 할 경우, queue의 길이가 bridge의 길이와 동일하게 유지되기 때문에 들어간 트럭들이 queue에서 나오는 시점도 일관적으로 구현할 수 있습니다.

예시 (지문과 동일, 최대무게 10, 다리길이 2)

경과 시간	| 다리를 지난 트럭	| 다리를 건너는 트럭	| 대기 트럭
--|--|--|--
0	| []	| [0,0]	| [7,4,5,6]
1	| []	| [0,7]	| [4,5,6]
2	| []	| [7,0]	| [4,5,6]
3	| [7]	| [0,4]	| [5,6]
4	| [7]	| [4,5]	| [6]
5	| [7,4]	| [5,0]	| [6]
6	| [7,4,5]	| [0,6]	| []
7	| [7,4,5]	| [6,0]	| []
8	| [7,4,5,6]	| [0,0]	| []

다른 구현법으로는 빈칸을 채우는 용도로 0을 넣는 대신, 별도의 클래스로 트럭을 구현하여 무게와 다리 상의 현재 위치를 기억하도록 만들어서 queue에 넣을 수 있습니다.

## 팁

## Solution.java
~~~
import java.util.*;

class Solution {
    public int solution(int bridge_length, int weight, int[] truck_weights) {

        int answer = 0;

        Queue<Integer> bridge = new LinkedList<>();
        int total_weight = 0;
        for(int i = 0; i < bridge_length; i++) {
            bridge.add(0);
        }

        for(int truck: truck_weights) {
            total_weight -= bridge.remove();
            while(total_weight + truck > weight) {
                total_weight -= bridge.remove();
                bridge.add(0);
                answer++;
            }
            bridge.add(truck);
            total_weight += truck;
            answer++;
        }

        answer += bridge_length;

        return answer;
    }
}
~~~
